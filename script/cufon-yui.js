/*
 * Copyright (c) 2008 Simo Kinnunen.
 * Licensed under the MIT license.
 */
var Cufon=(function(){var J=function(){return J.replace.apply(null,arguments)};var R=J.DOM={ready:(function(){var W=false,Y={loaded:1,complete:1};var V=[],X=function(){if(W){return}W=true;for(var Z;Z=V.shift();Z()){}};if(document.addEventListener){document.addEventListener("DOMContentLoaded",X,false);window.addEventListener("pageshow",X,false)}if(!window.opera&&document.readyState){(function(){Y[document.readyState]?X():setTimeout(arguments.callee,10)})()}if(document.readyState&&document.createStyleSheet){(function(){try{document.body.doScroll("left");X()}catch(Z){setTimeout(arguments.callee,1)}})()}N(window,"load",X);return function(Z){if(!arguments.length){X()}else{W?Z():V.push(Z)}}})()};var K=J.CSS={Size:function(W,V){this.value=parseFloat(W);this.unit=String(W).match(/[a-z%]*$/)[0]||"px";this.convert=function(X){return X/V*this.value};this.convertFrom=function(X){return X/this.value*V};this.toString=function(){return this.value+this.unit}},getStyle:function(W){var V=document.defaultView;if(V&&V.getComputedStyle){return new A(V.getComputedStyle(W,null))}if(W.currentStyle){return new A(W.currentStyle)}return new A(W.style)},ready:(function(){var X=false;var W=[],Y=function(){X=true;for(var a;a=W.shift();a()){}};var V=Object.prototype.propertyIsEnumerable?E("style"):{length:0};var Z=E("link");R.ready(function(){var d=0,c;for(var b=0,a=Z.length;c=Z[b],b<a;++b){if(!c.disabled&&c.rel.toLowerCase()=="stylesheet"){++d}}if(document.styleSheets.length>=V.length+d){Y()}else{setTimeout(arguments.callee,10)}});return function(a){if(X){a()}else{W.push(a)}}})(),supports:function(X,W){var V=document.createElement("span").style;if(V[X]===undefined){return false}V[X]=W;return V[X]===W},textAlign:function(Y,X,V,W){if(X.get("textAlign")=="right"){if(V>0){Y=" "+Y}}else{if(V<W-1){Y+=" "}}return Y},textDecoration:function(a,Z){if(!Z){Z=this.getStyle(a)}var W={underline:null,overline:null,"line-through":null};for(var V=a;V.parentNode&&V.parentNode.nodeType==1;){var Y=true;for(var X in W){if(W[X]){continue}if(Z.get("textDecoration").indexOf(X)!=-1){W[X]=Z.get("color")}Y=false}if(Y){break}Z=this.getStyle(V=V.parentNode)}return W},textShadow:H(function(Z){if(Z=="none"){return null}var Y=[],a={},V,W=0;var X=/(#[a-f0-9]+|[a-z]+\(.*?\)|[a-z]+)|(-?[\d.]+[a-z%]*)|,/ig;while(V=X.exec(Z)){if(V[0]==","){Y.push(a);a={},W=0}else{if(V[1]){a.color=V[1]}else{a[["offX","offY","blur"][W++]]=V[2]}}}Y.push(a);return Y}),color:H(function(W){var V={};V.color=W.replace(/^rgba\((.*?),\s*([\d.]+)\)/,function(Y,X,Z){V.opacity=parseFloat(Z);return"rgb("+X+")"});return V}),textTransform:function(W,V){return W[{uppercase:"toUpperCase",lowercase:"toLowerCase"}[V.get("textTransform")]||"toString"]()}};J.VML={parsePath:function(Y){var V=[],X=/([mrvxe])([^a-z]*)/g,W;while(W=X.exec(Y)){V.push({type:W[1],coords:W[2].split(",")})}return V}};function O(W){var V=this.face=W.face;this.glyphs=W.glyphs;this.w=W.w;this.baseSize=parseInt(V["units-per-em"],10);this.family=V["font-family"].toLowerCase();this.weight=V["font-weight"];this.style=V["font-style"]||"normal";this.viewBox=(function(){var X=V.bbox.split(/\s+/);return{minX:parseInt(X[0],10),minY:parseInt(X[1],10),width:parseInt(X[2],10)-parseInt(X[0],10),height:parseInt(X[3],10)-parseInt(X[1],10),toString:function(){return[this.minX,this.minY,this.width,this.height].join(" ")}}})();this.ascent=-parseInt(V.ascent,10);this.descent=-parseInt(V.descent,10);this.height=-this.ascent+this.descent}function D(){var W={},V={oblique:"italic",italic:"oblique"};this.add=function(X){(W[X.style]||(W[X.style]={}))[X.weight]=X};this.get=function(b,c){var a=W[b]||W[V[b]]||W.normal||W.italic||W.oblique;if(!a){return null}c={normal:400,bold:700}[c]||parseInt(c,10);if(a[c]){return a[c]}var Y={1:1,99:0}[c%100],e=[],Z,X;if(Y===undefined){Y=c>400}if(c==500){c=400}for(var d in a){d=parseInt(d,10);if(!Z||d<Z){Z=d}if(!X||d>X){X=d}e.push(d)}if(c<Z){c=Z}if(c>X){c=X}e.sort(function(g,f){return(Y?(g>c&&f>c)?g<f:g>f:(g<c&&f<c)?g>f:g<f)?-1:1});return a[e[0]]}}function U(){var X={},V=0;function W(Y){return Y.cufid||(Y.cufid=++V)}this.get=function(Y){var Z=W(Y);return X[Z]||(X[Z]={})}}function A(V){var X={},W={};this.get=function(Y){return X[Y]!=undefined?X[Y]:V[Y]};this.getSize=function(Z,Y){return W[Z]||(W[Z]=new K.Size(this.get(Z),Y))};this.extend=function(Y){for(var Z in Y){X[Z]=Y[Z]}return this}}function N(W,V,X){if(W.addEventListener){W.addEventListener(V,X,false)}else{if(W.attachEvent){W.attachEvent("on"+V,function(){return X.apply(W,arguments)})}}}function H(V){var W={};return function(X){if(!W.hasOwnProperty(X)){W[X]=V.apply(null,arguments)}return W[X]}}function B(a,Z){if(!Z){Z=K.getStyle(a)}var W=Z.get("fontFamily").split(/\s*,\s*/),Y;for(var X=0,V=W.length;X<V;++X){Y=W[X].replace(/^(["'])(.*?)\1$/,"$2").toLowerCase();if(G[Y]){return G[Y].get(Z.get("fontStyle"),Z.get("fontWeight"))}}return null}function E(V){return document.getElementsByTagName(V)}function F(){var V={},Y;for(var X=0,W=arguments.length;X<W;++X){for(Y in arguments[X]){V[Y]=arguments[X][Y]}}return V}function L(Y,g,W,h,Z,X){var f=h.separate;if(f=="none"){return T[h.engine].apply(null,arguments)}var e=document.createDocumentFragment(),b;var c=g.split(M[f]),V=(f=="words");if(V&&P){if(/^\s/.test(g)){c.unshift("")}if(/\s$/.test(g)){c.push("")}}for(var d=0,a=c.length;d<a;++d){b=T[h.engine](Y,V?K.textAlign(c[d],W,d,a):c[d],W,h,Z,X,d<a-1);if(b){e.appendChild(b)}}return e}function I(W,d){var b=C.get(W);if(!d){d=b.options}var X,V,a;for(var Y=W.firstChild;Y;Y=a){a=Y.nextSibling;if(Y.nodeType==1){if(!Y.firstChild){continue}if(!/cufon/.test(Y.className)){arguments.callee(Y,d);continue}}var c=Y.nodeType==3?Y.data:Y.alt;if(c===""){continue}if(!V){V=K.getStyle(W).extend(d)}if(!X){X=B(W,V)}if(!X){continue}var Z=L(X,c,V,d,Y,W);if(Z){Y.parentNode.replaceChild(Z,Y)}else{Y.parentNode.removeChild(Y)}}if(!b.options){b.options=d}}var P=" ".split(/\s+/).length==0;var C=new U();var S=[];var T={},G={},Q={enableTextDecoration:false,engine:null,printable:true,selector:(window.Sizzle||(window.dojo&&dojo.query)||(window.$$&&function(V){return $$(V)})||window.$||(document.querySelectorAll&&function(V){return document.querySelectorAll(V)})||E),separate:"words",textShadow:"none"};var M={words:/\s+/,characters:""};J.now=function(){R.ready();return J};J.refresh=function(){var X=S.splice(0,S.length);for(var W=0,V=X.length;W<V;++W){J.replace.apply(null,X[W])}return J};J.registerEngine=function(W,V){if(!V){return J}T[W]=V;return J.set("engine",W)};J.registerFont=function(X){var V=new O(X),W=V.family;if(!G[W]){G[W]=new D()}G[W].add(V);return J.set("fontFamily",W)};J.replace=function(X,W,V){W=F(Q,W);if(!W.engine){return J}if(typeof W.textShadow=="string"){W.textShadow=K.textShadow(W.textShadow)}if(!V){S.push(arguments)}if(X.nodeType||typeof X=="string"){X=[X]}K.ready(function(){for(var Z=0,Y=X.length;Z<Y;++Z){var a=X[Z];if(typeof a=="string"){J.replace(W.selector(a),W,true)}else{I(a,W)}}});return J};J.set=function(V,W){Q[V]=W;return J};return J})();Cufon.registerEngine("canvas",(function(){var B=document.createElement("canvas");if(!B||!B.getContext||!B.getContext.apply){return null}B=null;var A=Cufon.CSS.supports("display","inline-block");var E=!A&&(document.compatMode=="BackCompat"||/frameset|transitional/i.test(document.doctype.publicId));var F=document.createElement("style");F.type="text/css";F.appendChild(document.createTextNode("@media screen,projection{.cufon-canvas{display:inline;display:inline-block;position:relative;vertical-align:middle"+(E?"":";font-size:1px;line-height:1px")+"}.cufon-canvas .cufon-alt{display:none}"+(A?".cufon-canvas canvas{position:relative}":".cufon-canvas canvas{position:absolute}")+"}@media print{.cufon-canvas{padding:0 !important}.cufon-canvas canvas{display:none}.cufon-canvas .cufon-alt{display:inline}}"));document.getElementsByTagName("head")[0].appendChild(F);function D(O,I){var N=0,M=0;var G=Cufon.VML.parsePath(O);var H=new Array(G.length-1);generate:for(var K=0,J=G.length;K<J;++K){var L=G[K].coords;switch(G[K].type){case"v":H[K]={m:"bezierCurveTo",a:[N+Number(L[0]),M+Number(L[1]),N+Number(L[2]),M+Number(L[3]),N+=Number(L[4]),M+=Number(L[5])]};break;case"r":H[K]={m:"lineTo",a:[N+=Number(L[0]),M+=Number(L[1])]};break;case"m":H[K]={m:"moveTo",a:[N=Number(L[0]),M=Number(L[1])]};break;case"x":H[K]={m:"closePath"};break;case"e":break generate}I[H[K].m].apply(I,H[K].a)}return H}function C(K,J){for(var I=0,H=K.length;I<H;++I){var G=K[I];J[G.m].apply(J,G.a)}}return function(p,S,j,O,W,q){var U=p.viewBox;var I=j.getSize("fontSize",p.baseSize);var f=j.get("letterSpacing");f=(f=="normal")?0:I.convertFrom(parseInt(f,10));var V=0,h=0,e=0,Q=0;var T=O.textShadow,c=[];if(T){for(var o=0,k=T.length;o<k;++o){var Y=T[o];var b=I.convertFrom(parseFloat(Y.offX));var a=I.convertFrom(parseFloat(Y.offY));c[o]=[b,a];if(a<V){V=a}if(b>h){h=b}if(a>e){e=a}if(b<Q){Q=b}}}var t=Cufon.CSS.textTransform(S,j).split("");var G=0,R=null;for(var o=0,k=t.length;o<k;++o){var P=p.glyphs[t[o]]||p.missingGlyph;if(!P){continue}G+=R=Number(P.w||p.w)+f}if(R===null){return null}h+=(U.width-R);Q+=U.minX;var N=document.createElement("span");N.className="cufon cufon-canvas";N.alt=S;var J=document.createElement("canvas");var u=N.style;var Z=J.style;var H=I.convert(U.height-V+e);var s=Math.ceil(H);var d=s/H;J.width=Math.ceil(I.convert(G+h-Q)*d);J.height=s;V+=U.minY;Z.top=Math.round(I.convert(V-p.ascent))+"px";Z.left=Math.round(I.convert(Q))+"px";var M=Math.ceil(I.convert(G*d))+"px";if(A){u.width=M;u.height=I.convert(p.height)+"px"}else{u.paddingLeft=M;u.paddingBottom=(I.convert(p.height)-1)+"px"}var r=J.getContext("2d"),X=s/U.height;r.scale(X,X);r.translate(-Q,-V);r.lineWidth=p.face["underline-thickness"];r.save();function K(i,g){r.strokeStyle=g;r.beginPath();r.moveTo(0,i);r.lineTo(G,i);r.stroke()}var L=O.enableTextDecoration?Cufon.CSS.textDecoration(q,j):{};if(L.underline){K(-p.face["underline-position"],L.underline)}if(L.overline){K(p.ascent,L.overline)}r.fillStyle=j.get("color");function n(){for(var v=0,g=t.length;v<g;++v){var w=p.glyphs[t[v]]||p.missingGlyph;if(!w){continue}r.beginPath();if(w.d){if(w.code){C(w.code,r)}else{w.code=D("m"+w.d,r)}}r.fill();r.translate(Number(w.w||p.w)+f,0)}}if(T){for(var o=0,k=T.length;o<k;++o){var Y=T[o];r.save();r.fillStyle=Y.color;r.translate.apply(r,c[o]);n();r.restore()}}n();r.restore();if(L["line-through"]){K(-p.descent,L["line-through"])}N.appendChild(J);if(O.printable){var m=document.createElement("span");m.className="cufon-alt";m.appendChild(document.createTextNode(S));N.appendChild(m)}return N}})());Cufon.registerEngine("vml",(function(){if(!document.namespaces){return}document.write('<!--[if vml]><script type="text/javascript">Cufon.vmlEnabled=true;<\/script><![endif]-->');if(!Cufon.vmlEnabled){return}if(document.namespaces.cvml==null){document.namespaces.add("cvml","urn:schemas-microsoft-com:vml");document.write('<style type="text/css">@media screen{cvml\\:shape,cvml\\:group,cvml\\:shapetype,cvml\\:fill{behavior:url(#default#VML);display:inline-block;antialias:true;position:absolute}.cufon-vml{display:inline-block;position:relative;vertical-align:middle}.cufon-vml .cufon-alt{display:none}a .cufon-vml{cursor:pointer}}@media print{.cufon-vml *{display:none}.cufon-vml .cufon-alt{display:inline}}</style>')}var C=0;function B(E,F){return A(E,/(?:em|ex|%)$/i.test(F)?"1em":F)}function A(H,I){if(/px$/i.test(I)){return parseFloat(I)}var G=H.style.left,F=H.runtimeStyle.left;H.runtimeStyle.left=H.currentStyle.left;H.style.left=I;var E=H.style.pixelLeft;H.style.left=G;H.runtimeStyle.left=F;return E}function D(F,H){var E=document.createElement("cvml:shapetype");E.id="cufon-glyph-"+C++;F.typeRef="#"+E.id;E.stroked="f";E.coordsize=H.width+","+H.height;E.coordorigin=H.minX+","+H.minY;var G="m"+H.minX+","+H.minY+" r"+H.width+","+H.height;E.path=(F.d?"m"+F.d+"x":"")+G;document.body.insertBefore(E,document.body.firstChild)}return function(j,R,e,O,V,k,c){var U=j.viewBox;var G=e.computedFontSize||(e.computedFontSize=new Cufon.CSS.Size(B(k,e.get("fontSize"))+"px",j.baseSize));var b=e.computedLSpacing;if(b==undefined){b=e.get("letterSpacing");e.computedLSpacing=b=(b=="normal")?0:G.convertFrom(A(k,b))}var N=document.createElement("span");N.className="cufon cufon-vml";N.alt=R;var H=document.createElement("cvml:group");var r=N.runtimeStyle;var X=H.runtimeStyle;var F=G.convert(U.height);X.height=Math.ceil(F);X.top=Math.round(G.convert(U.minY-j.ascent));X.left=Math.round(G.convert(U.minX));var a=parseInt(X.height,10)/F;r.height=G.convert(-j.ascent+j.descent)+"px";var J=O.enableTextDecoration?Cufon.CSS.textDecoration(k,e):{};var Q=e.get("color");var o=Cufon.CSS.textTransform(R,e).split("");var E=0,Z=0,K=null;var T=O.textShadow;for(var h=0,f=o.length;h<f;++h){var P=j.glyphs[o[h]]||j.missingGlyph;if(!P){continue}if(!P.typeRef){D(P,U)}var L=document.createElement("cvml:shape");L.type=P.typeRef;var m=L.runtimeStyle;m.width=U.width;m.height=U.height;m.top=0;m.left=Z;m.zIndex=1;L.fillcolor=Q;H.appendChild(L);if(T){for(var Y=0,d=T.length;Y<d;++Y){var W=T[Y];var q=Cufon.CSS.color(W.color);var I=L.cloneNode(false),S=I.runtimeStyle;S.top=G.convertFrom(parseFloat(W.offY));S.left=Z+G.convertFrom(parseFloat(W.offX));S.zIndex=0;I.fillcolor=q.color;if(q.opacity){var n=document.createElement("cvml:fill");n.opacity=q.opacity;I.appendChild(n)}H.appendChild(I)}}K=Number(P.w||j.w)+b;E+=K;Z+=K}if(K===null){return null}var M=-U.minX+E+(U.width-K);H.coordsize=M+","+U.height;X.width=G.convert(M*a);r.width=Math.max(Math.ceil(G.convert(E*a)),0);N.appendChild(H);if(O.printable){var g=document.createElement("span");g.className="cufon-alt";g.innerText=R;N.appendChild(g)}if(!c){N.appendChild(document.createElement("cvml:group"))}return N}})());